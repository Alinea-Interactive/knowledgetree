<h3>Document Views over Week</h3>

<div style="width: 25%; float: left">
<table>
    <thead>
        <th>Week</th>
        <th>Document Views</th>
    </thead>
    <tbody>
        {foreach from=$data item=week}
        <tr>
            <th>{if $week.week_number==0}This Week{else}{$week.week_number} week ago{/if}</th>
            <td>{$week.count}</td>
        </tr>
        {/foreach}
    </tbody>
</table>
</div>
<div style="width: 70%; float: left">
    <div id="documentviewchart"></div>
</div>

<br clear="both" />



{literal}
<script type="text/javascript">
    var documentViewChart;
    jQuery(document).ready(function() {
        documentViewChart = new Highcharts.Chart({
            chart: {
                renderTo: 'documentviewchart',
                defaultSeriesType: 'column'
            },
            title: {
                text: 'Document Views per Week'
            },
            subtitle: {
                text: null
            },
            xAxis: {
                categories: [{/literal}{$graphdata.weeks}{literal}],
                title: {
                    text: null
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Document Views',
                    align: 'high'
                }
            },
            tooltip: {
                formatter: function() {
                    return ''+
                         this.series.name +': '+ this.y;
                }
            },
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true
                    }
                },
                series: {
                    events: {
                        legendItemClick: function(event) {
                            return false;
                        }
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -100,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor: '#FFFFFF',
                shadow: true
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'Document Views',
                data: [{/literal}{$graphdata.score}{literal}]
            }
            ]
        });
        
        
    });
        
</script>
{/literal}